library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

entity setting_decoder is
  Port ( clk : in std_logic;
         rstn : in std_logic;
         settings_in : in unsigned(2 downto 0);
			settings_out : out unsigned(8 downto 0));
end setting_decoder;

architecture rtl of setting_decoder is
signal settings_data : unsigned(8 downto 0);

begin
  process(rstn, clk)
  begin
    if (rstn = '0') then
	----
    elsif (rising_edge(clk)) then
		if (settings_in = "001") then	
			if (settings_data(8) = '1') then
				settings_data(8) <= '0';
			else 
				settings_data(8) <= '1';
			end if; 
		elsif (settings_in = "010") then 
			if ( settings_data(3 downto 0) < 10) then 
				settings_data(3 downto 0) <= settings_data(3 downto 0) + 1; 
			else 
				settings_data <= settings_data; 
			end if; 
		elsif (settings_in = "011") then 
			if (settings_data(3 downto 0) > 0) then 
				settings_data(3 downto 0) <= settings_data - 1; 
			else 
				settings_data <= settings_data; 
			end if; 
		elsif (settings_in = "100") then 
			if(settings_data(7 downto 4) < 11)then 
				settings_data(7 downto 4) <= settings_data(7 downto 4) + 1;
			else
				settings_data <= settings_data; 
			end if; 
		elsif (settings_in = "101") then 
			if(settings_data(7 downto 4) > 0) then 
				settings_data(7 downto 4) <= settings_data(7 downto 4) - 1;
			else 
				settings_data <= settings_data; 
			end if; 
	   end if;
	end if; 
  end process;
  settings_out <= settings_data; 
end rtl;




-- 001 mute, 010 increase v, 011 decrease v, 100 increase b, 101 decrease b 

